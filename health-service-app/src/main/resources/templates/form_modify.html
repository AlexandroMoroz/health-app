<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

    <head>
        <meta charset="utf-8">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
              integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
        <link rel="stylesheet" href="/css/main.css">
        <title>Health Service App</title>
    </head>

    <body>

        <!-- NAVBAR -->

        <header th:replace="fragments/navbar :: nav_bar"></header>
        <div class="container">

            <form class="formulario p-3" th:each="usuario : ${logued}" th:action="@{/perfil/actualizar}" method="POST"
                  enctype="multipart/form-data">

                <div class="mb-3">
                    <label class="form-label">Ingresar Nombre</label>
                    <input type="text" class="form-control" name="nombre" th:value="${usuario.nombre}" required>
                </div>

                <div class="mb-3">
                    <label class="form-label">Ingresar Apellido</label>
                    <input type="text" class="form-control" name="apellido" th:value="${usuario.apellido}" required>
                </div>

                <div class="mb-3">
                    <label class="form-label">Ingresar Domicilio</label>
                    <input type="text" class="form-control" name="domicilio" th:value="${usuario.domicilio}" required>
                </div>

                <div class="mb-3">
                    <label class="form-label">Ingresar DNI</label>
                    <input type="number" name="dni" th:value="${usuario.dni}" min="0" required>
                </div> 

                <div class="form-group my-3">
                    <label class="form-label">Seleccionar Sexo</label>
                    <select class="custom-select" name="sexo" required>
                        <option></option>
                        <option th:each="sexo : ${sexos}" th:value="${usuario.sexo}" th:text="${sexo}">
                    </select>
                </div> 


                <div class="mb-3">
                    <label for="fecha">Fecha De Nacimiento</label>
                    <input type="date" name="fechaNacimiento" th:value="${usuario.fechaNacimiento}" id="fecha" required>
                </div> 



                <div class="mb-3">
                    <label for="formFile" class="form-label">Subir foto</label>
                    <input class="form-control" type="file" name="imagen" id="formFile"
                           accept="image/*" max-file-size="1024" th:value="${usuario.imagen}">
                </div>
                <button type="submit" class="btn btn-primary mt-3 botones">Enviar</button>
            </form>
        </div>
        <div class="container">

            <form class="formulario p-3" sec:authorize="hasAuthority('ROLE_PACIENTE')"
                  th:action="@{/paciente/registro}" method="POST">

                <div class="form-group my-3">

                    <label class="form-label">Seleccionar Obra Social</label>

                    <select class="custom-select" name="obraSocial" required>

                        <option></option>

                        <option th:each="ObraSocial : ${obrasSociales}" th:value="${ObraSocial}" th:text="${ObraSocial}">
                    </select>
                </div>

                <button type="submit" class="btn btn-primary mt-3 botones">Enviar</button>
            </form>
        </div>

        <div th:replace="fragments/footer :: footer"></div>

    </body>

</html>
